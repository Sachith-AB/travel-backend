[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------------< com.travel:travel >--------------------------
[INFO] Building travel 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.5.0:run (default-cli) > test-compile @ travel >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ travel ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.14.0:compile (default-compile) @ travel ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ travel ---
[INFO] Copying 2 resources from src/test/resources to target/test-classes
[INFO] 
[INFO] --- compiler:3.14.0:testCompile (default-testCompile) @ travel ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] <<< spring-boot:3.5.0:run (default-cli) < test-compile @ travel <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.5.0:run (default-cli) @ travel ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-10-20T11:07:19.709+05:30  INFO 15837 --- [travel] [  restartedMain] com.travel.travel.TravelApplication      : Starting TravelApplication using Java 17.0.15 with PID 15837 (/Users/hirunmihisarakariyawasam/Documents/projects/travel-full/travel-backend/target/classes started by hirunmihisarakariyawasam in /Users/hirunmihisarakariyawasam/Documents/projects/travel-full/travel-backend)
2025-10-20T11:07:19.710+05:30  INFO 15837 --- [travel] [  restartedMain] com.travel.travel.TravelApplication      : No active profile set, falling back to 1 default profile: "default"
2025-10-20T11:07:19.723+05:30  INFO 15837 --- [travel] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-20T11:07:19.723+05:30  INFO 15837 --- [travel] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-20T11:07:19.997+05:30  INFO 15837 --- [travel] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T11:07:20.029+05:30  INFO 15837 --- [travel] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 12 JPA repository interfaces.
2025-10-20T11:07:20.190+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 5454 (http)
2025-10-20T11:07:20.194+05:30  INFO 15837 --- [travel] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T11:07:20.194+05:30  INFO 15837 --- [travel] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-10-20T11:07:20.209+05:30  INFO 15837 --- [travel] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T11:07:20.209+05:30  INFO 15837 --- [travel] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 486 ms
2025-10-20T11:07:20.283+05:30  INFO 15837 --- [travel] [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T11:07:20.297+05:30  INFO 15837 --- [travel] [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.15.Final
2025-10-20T11:07:20.306+05:30  INFO 15837 --- [travel] [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T11:07:20.383+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T11:07:20.397+05:30  INFO 15837 --- [travel] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T11:07:25.401+05:30  INFO 15837 --- [travel] [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ff30f54
2025-10-20T11:07:25.402+05:30  INFO 15837 --- [travel] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T11:07:25.560+05:30  WARN 15837 --- [travel] [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-20T11:07:25.777+05:30  INFO 15837 --- [travel] [  restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.6
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T11:07:26.290+05:30  INFO 15837 --- [travel] [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T11:07:45.230+05:30  INFO 15837 --- [travel] [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T11:07:45.423+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-20T11:07:45.788+05:30  WARN 15837 --- [travel] [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T11:07:45.799+05:30  WARN 15837 --- [travel] [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 7b99d9d7-0f89-4c98-8563-503a1f233517

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-10-20T11:07:45.801+05:30  INFO 15837 --- [travel] [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-10-20T11:07:45.905+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-10-20T11:07:46.005+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-20T11:07:46.025+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 5454 (http) with context path '/'
2025-10-20T11:07:46.032+05:30  INFO 15837 --- [travel] [  restartedMain] com.travel.travel.TravelApplication      : Started TravelApplication in 26.443 seconds (process running for 26.564)
2025-10-20T11:11:43.246+05:30  INFO 15837 --- [travel] [nio-5454-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T11:11:43.247+05:30  INFO 15837 --- [travel] [nio-5454-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T11:11:43.252+05:30  INFO 15837 --- [travel] [nio-5454-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
Payment intent created: pi_3SKBqlPOMyqlPseR0EsCh5TB
Payment intent created: pi_3SKBqlPOMyqlPseR1k0x8yHO
Creating booking with payment intent: pi_3SKBqlPOMyqlPseR1k0x8yHO
Payment intent status: succeeded
Hibernate: select u1_0.id,u1_0.created_at,u1_0.doc_id,u1_0.email,u1_0.first_name,u1_0.is_deleted,u1_0.last_name,u1_0.role from users u1_0 where u1_0.id=?
Hibernate: select h1_0.id,h1_0.city,h1_0.created_at,h1_0.description,h1_0.district,h1_0.hotel_name,h1_0.is_verified,h1_0.price_per_night,h1_0.province,h1_0.registration_no,h1_0.street,h1_0.type,u1_0.id,u1_0.created_at,u1_0.doc_id,u1_0.email,u1_0.first_name,u1_0.is_deleted,u1_0.last_name,u1_0.role,r1_0.hotel_id,r1_0.id,r1_0.availability,r1_0.bed_types,r1_0.created_at,r1_0.description,r1_0.max_guests,r1_0.price_per_night,r1_0.room_type from hotels h1_0 left join users u1_0 on u1_0.id=h1_0.user_id left join rooms r1_0 on h1_0.id=r1_0.hotel_id where h1_0.id=?
Hibernate: insert into hotel_bookings (booking_reference,booking_status,cancellation_reason,cancelled_at,check_in_date,check_out_date,created_at,currency,hotel_id,hotel_name,number_of_guests,number_of_nights,payment_date,payment_method,payment_status,price_per_night,refund_amount,refund_status,room_id,room_type,special_requests,stripe_charge_id,stripe_payment_intent_id,total_amount,updated_at,user_id,user_email,user_name,user_phone) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
Hibernate: update hotel_bookings set booking_reference=?,booking_status=?,cancellation_reason=?,cancelled_at=?,check_in_date=?,check_out_date=?,currency=?,hotel_id=?,hotel_name=?,number_of_guests=?,number_of_nights=?,payment_date=?,payment_method=?,payment_status=?,price_per_night=?,refund_amount=?,refund_status=?,room_id=?,room_type=?,special_requests=?,stripe_charge_id=?,stripe_payment_intent_id=?,total_amount=?,updated_at=?,user_id=?,user_email=?,user_name=?,user_phone=? where id=?
Booking created and confirmed: HB-1760938917610
Hibernate: select h1_0.id,h1_0.city,h1_0.created_at,h1_0.description,h1_0.district,h1_0.hotel_name,h1_0.is_verified,h1_0.price_per_night,h1_0.province,h1_0.registration_no,h1_0.street,h1_0.type,u1_0.id,u1_0.created_at,u1_0.doc_id,u1_0.email,u1_0.first_name,u1_0.is_deleted,u1_0.last_name,u1_0.role,r1_0.hotel_id,r1_0.id,r1_0.availability,r1_0.bed_types,r1_0.created_at,r1_0.description,r1_0.max_guests,r1_0.price_per_night,r1_0.room_type from hotels h1_0 left join users u1_0 on u1_0.id=h1_0.user_id left join rooms r1_0 on h1_0.id=r1_0.hotel_id where h1_0.id=?
2025-10-20T11:12:11.434+05:30  INFO 15837 --- [travel] [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 4 class path changes (0 additions, 0 deletions, 4 modifications)
2025-10-20T11:12:11.440+05:30  INFO 15837 --- [travel] [       Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
Hibernate: select lp1_0.hotel_id,lp1_0.license_photo_url from hotel_license_photos lp1_0 where lp1_0.hotel_id=?
Hibernate: select i1_0.hotel_id,i1_0.image_url from hotel_images i1_0 where i1_0.hotel_id=?
Hibernate: select a1_0.hotel_id,a1_0.amenity from hotel_amenities a1_0 where a1_0.hotel_id=?
Hibernate: select i1_0.room_id,i1_0.image_url from room_images i1_0 where i1_0.room_id=?
Hibernate: select a1_0.room_id,a1_0.amenity from room_amenities a1_0 where a1_0.room_id=?
Hibernate: select i1_0.room_id,i1_0.image_url from room_images i1_0 where i1_0.room_id=?
Hibernate: select a1_0.room_id,a1_0.amenity from room_amenities a1_0 where a1_0.room_id=?
Hibernate: select i1_0.room_id,i1_0.image_url from room_images i1_0 where i1_0.room_id=?
Hibernate: select a1_0.room_id,a1_0.amenity from room_amenities a1_0 where a1_0.room_id=?
Hibernate: select pp1_0.user_id,pp1_0.profile_picture from profile_pictures pp1_0 where pp1_0.user_id=?
2025-10-20T11:12:12.952+05:30  INFO 15837 --- [travel] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T11:12:12.959+05:30  INFO 15837 --- [travel] [       Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T11:12:12.962+05:30  INFO 15837 --- [travel] [       Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T11:12:13.070+05:30  INFO 15837 --- [travel] [       Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-10-20T11:12:13.144+05:30  INFO 15837 --- [travel] [  restartedMain] com.travel.travel.TravelApplication      : Starting TravelApplication using Java 17.0.15 with PID 15837 (/Users/hirunmihisarakariyawasam/Documents/projects/travel-full/travel-backend/target/classes started by hirunmihisarakariyawasam in /Users/hirunmihisarakariyawasam/Documents/projects/travel-full/travel-backend)
2025-10-20T11:12:13.144+05:30  INFO 15837 --- [travel] [  restartedMain] com.travel.travel.TravelApplication      : No active profile set, falling back to 1 default profile: "default"
2025-10-20T11:12:13.245+05:30  INFO 15837 --- [travel] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T11:12:13.254+05:30  INFO 15837 --- [travel] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 12 JPA repository interfaces.
2025-10-20T11:12:13.295+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 5454 (http)
2025-10-20T11:12:13.295+05:30  INFO 15837 --- [travel] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T11:12:13.295+05:30  INFO 15837 --- [travel] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-10-20T11:12:13.298+05:30  INFO 15837 --- [travel] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T11:12:13.298+05:30  INFO 15837 --- [travel] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 153 ms
2025-10-20T11:12:13.320+05:30  INFO 15837 --- [travel] [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T11:12:13.321+05:30  INFO 15837 --- [travel] [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T11:12:13.324+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T11:12:13.325+05:30  INFO 15837 --- [travel] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-10-20T11:12:14.786+05:30  INFO 15837 --- [travel] [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@2a94fa49
2025-10-20T11:12:14.787+05:30  INFO 15837 --- [travel] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-10-20T11:12:15.054+05:30  WARN 15837 --- [travel] [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-20T11:12:15.252+05:30  INFO 15837 --- [travel] [  restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 17.6
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T11:12:15.526+05:30  INFO 15837 --- [travel] [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T11:12:34.564+05:30  INFO 15837 --- [travel] [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T11:12:34.688+05:30  WARN 15837 --- [travel] [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T11:12:34.693+05:30  WARN 15837 --- [travel] [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 97feddf4-ac3f-484c-9967-847ec3228d34

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-10-20T11:12:34.694+05:30  INFO 15837 --- [travel] [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-10-20T11:12:34.728+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-10-20T11:12:34.771+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-20T11:12:34.777+05:30  INFO 15837 --- [travel] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 5454 (http) with context path '/'
2025-10-20T11:12:34.781+05:30  INFO 15837 --- [travel] [  restartedMain] com.travel.travel.TravelApplication      : Started TravelApplication in 21.649 seconds (process running for 315.313)
2025-10-20T11:12:34.782+05:30  INFO 15837 --- [travel] [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-20T11:13:09.145+05:30  INFO 15837 --- [travel] [ionShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T11:13:09.149+05:30  INFO 15837 --- [travel] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T11:13:09.153+05:30  INFO 15837 --- [travel] [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T11:13:09.154+05:30  INFO 15837 --- [travel] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-10-20T11:13:09.379+05:30  INFO 15837 --- [travel] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
